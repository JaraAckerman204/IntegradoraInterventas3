<app-header></app-header>

<ion-content [fullscreen]="true">

  <!-- 1. BANNER HERO - CARRUSEL -->
<section class="hero-section">
  <div class="carousel-container">
    <div class="carousel-slide" [class.active]="currentSlide === 0">
      <img src="../../assets/img/flyers/flyer1.png" alt="Slide 1">
    </div>
    <div class="carousel-slide" [class.active]="currentSlide === 1">
      <img src="../../assets/img/flyers/flyer2.png" alt="Slide 2">
    </div>
    <div class="carousel-slide" [class.active]="currentSlide === 2">
      <img src="../../assets/img/flyers/flyer3.png" alt="Slide 3">
    </div>
  </div>

<!-- Controles del carrusel -->
<div class="carousel-controls">
  <button class="carousel-btn prev" (click)="previousSlide()">‹</button>
  <button class="carousel-btn next" (click)="nextSlide()">›</button>
</div>
</section>

  <!-- 2. PRODUCTOS DESTACADOS - 4 productos -->
  <section class="products-section ion-padding">
    <!-- Icono Flotante -->
    <div class="section-icon">
      <ion-icon name="star-outline"></ion-icon>
    </div>
    
    <h2 class="ion-text-center">Productos Destacados</h2>
    <p class="ion-text-center sub-header">Nuestra selección más vendida de desechables y empaques.</p>

    <div class="product-grid">
      
      <ion-card class="product-card" (click)="openProductModal(productosDestacados[0])">
        <ion-img src="../../assets/img/products/charolagrande.png" alt="Charola para alimentos"></ion-img>
        <ion-card-header>
          <ion-card-title>Charola Grande C-10</ion-card-title>
        </ion-card-header>
        <ion-card-content>
          <p>Ideal para pastelerías, carnicerías y catering.</p>
          <div class="price">Desde $37.00</div>
          <ion-button fill="clear" color="accent">Clic para más detalles</ion-button>
        </ion-card-content>
      </ion-card>

      <ion-card class="product-card" (click)="openProductModal(productosDestacados[1])">
        <ion-img src="../../assets/img/products/vasotermico.png" alt="Vaso desechable"></ion-img>
        <ion-card-header>
          <ion-card-title>Vaso Térmico No.10</ion-card-title>
        </ion-card-header>
        <ion-card-content>
          <p>Excelente aislamiento, perfecto para bebidas frías y calientes.</p>
          <div class="price">$26.00 (Paquete)</div>
          <ion-button fill="clear" color="accent">Ver Detalle</ion-button>
        </ion-card-content>
      </ion-card>
      
      <ion-card class="product-card" (click)="openProductModal(productosDestacados[2])">
        <ion-img src="../../assets/img/products/cucharamediana.png" alt="Cuchara de plástico"></ion-img>
        <ion-card-header>
          <ion-card-title>Cuchara Plástica Mediana</ion-card-title>
        </ion-card-header>
        <ion-card-content>
          <p>La opción económica y resistente para eventos y restaurantes.</p>
          <div class="price">Desde $14.00 (Caja)</div>
          <ion-button fill="clear" color="accent">Ver Detalle</ion-button>
        </ion-card-content>
      </ion-card>

      <ion-card class="product-card" (click)="openProductModal(productosDestacados[3])">
        <ion-img src="../../assets/img/products/platobiodegradable.png" alt="Plato biodegradable"></ion-img>
        <ion-card-header>
          <ion-card-title>Plato Biodegradable 9"</ion-card-title>
        </ion-card-header>
        <ion-card-content>
          <p>Amigable con el ambiente, resistente y elegante para cualquier evento.</p>
          <div class="price">$52.00 (Paquete 50)</div>
          <ion-button fill="clear" color="accent">Ver Detalle</ion-button>
        </ion-card-content>
      </ion-card>
      
    </div>
  </section>

  <!-- 3. MARCAS DESTACADAS -->
  <section class="brands-section ion-padding">
    <!-- Icono Flotante -->
    <div class="section-icon">
      <ion-icon name="ribbon-outline"></ion-icon>
    </div>
    
    <h2 class="ion-text-center">Marcas Destacadas</h2>
    <p class="ion-text-center sub-header ion-margin-bottom">Trabajamos con las marcas líderes en calidad y confianza.</p>
    
    <div class="brands-grid">
      <div class="brand-item">
        <img src="assets/img/brands/reyma.jpeg" alt="Reymaq">
      </div>
      <div class="brand-item">
        <img src="assets/img/brands/chiligrin.png" alt="Chiligrin">
      </div>
      <div class="brand-item">
        <img src="assets/img/brands/anguiplast.jpeg" alt="Anguiplast">
      </div>
      <div class="brand-item">
        <img src="assets/img/brands/dart.png" alt="Dart">
      </div>
      <div class="brand-item">
        <img src="assets/img/brands/monarch.jpeg" alt="Monarch">
      </div>
    </div>
  </section>

  <!-- 4. EXPLORA NUESTRO CATÁLOGO -->
  <section class="stats-section ion-padding">
    <!-- Icono Flotante -->
    <div class="section-icon">
      <ion-icon name="albums-outline"></ion-icon>
    </div>
    
    <h2 class="ion-text-center ion-margin-bottom">Explora Nuestro Catálogo</h2>
    <p class="ion-text-center sub-header">Trabajamos para brindarte seguridad y calidad en todas nuestras líneas de productos.</p>
    
    <div class="stats-grid">
      
      <ion-card class="stat-card" routerLink="/productos/empaques">
        <ion-card-header>
          <ion-card-title>EMPAQUES</ion-card-title>
        </ion-card-header>
        <ion-card-content>
          Ver la variedad de productos.
        </ion-card-content>
      </ion-card>
      
      <ion-card class="stat-card" routerLink="/productos/desechables">
        <ion-card-header>
          <ion-card-title>DESECHABLES</ion-card-title>
        </ion-card-header>
        <ion-card-content>
          Vasos, platos, cubiertos y más.
        </ion-card-content>
      </ion-card>
      
      <ion-card class="stat-card" routerLink="/productos/biodegradables">
        <ion-card-header>
          <ion-card-title>BIODEGRADABLES</ion-card-title>
        </ion-card-header>
        <ion-card-content>
          Opciones amigables con el ambiente.
        </ion-card-content>
      </ion-card>
      
    </div>
  </section>

<!-- 5. SECCIÓN DE NEWSLETTER -->
<section class="newsletter-section ion-padding">
  <div class="newsletter-container">
    
    <!-- Icono Flotante Central -->
    <div class="newsletter-icon">
      <ion-icon name="mail-outline"></ion-icon>
    </div>
    
    <!-- Título y Descripción -->
    <h2>¡Suscríbete a Nuestro Newsletter!</h2>
    <p class="newsletter-description">
      Recibe las mejores ofertas, descuentos exclusivos y novedades directamente en tu correo.
    </p>
    
    <!-- Formulario -->
    <form class="newsletter-form" (submit)="subscribeNewsletter($event)">
      <div class="form-row">
        <div class="form-group">
          <ion-icon name="person-outline" class="input-icon"></ion-icon>
          <input 
            type="text" 
            placeholder="Tu nombre" 
            [(ngModel)]="subscriberName"
            name="subscriberName"
            class="newsletter-input"
            required
          >
        </div>
        
        <div class="form-group">
          <ion-icon name="mail-outline" class="input-icon"></ion-icon>
          <input 
            type="email" 
            placeholder="Tu correo electrónico" 
            [(ngModel)]="subscriberEmail"
            name="subscriberEmail"
            class="newsletter-input"
            required
          >
        </div>
        
        <button type="submit" class="subscribe-btn" [disabled]="isSubscribing">
          <span *ngIf="!isSubscribing">
            <ion-icon name="send-outline"></ion-icon>
            Suscribirme
          </span>
          <span *ngIf="isSubscribing">
            <ion-spinner name="crescent"></ion-spinner>
          </span>
        </button>
      </div>
    </form>
    
    <!-- Beneficios -->
    <div class="newsletter-benefits">
      <div class="benefit-item">
        <ion-icon name="checkmark-circle-outline"></ion-icon>
        <span>Descuentos exclusivos</span>
      </div>
      <div class="benefit-item">
        <ion-icon name="checkmark-circle-outline"></ion-icon>
        <span>Promociones especiales</span>
      </div>
      <div class="benefit-item">
        <ion-icon name="checkmark-circle-outline"></ion-icon>
        <span>Novedades de productos</span>
      </div>
    </div>
    
    <!-- Nota de Privacidad -->
    <p class="privacy-note">
      <ion-icon name="shield-checkmark-outline"></ion-icon>
      Tu información está 100% protegida. No compartimos tu correo con terceros.
    </p>
    
  </div>
</section>

  <!-- MODAL DE PRODUCTO -->
  <div class="product-modal-overlay" *ngIf="showProductModal" (click)="closeProductModal()" [@fadeIn]>
    <div class="product-modal" (click)="$event.stopPropagation()">
      
      <!-- Botón Cerrar -->
      <button class="modal-close-btn" (click)="closeProductModal()">
        <ion-icon name="close-outline"></ion-icon>
      </button>

      <div class="modal-content">
        
        <!-- Lado Izquierdo: Imagen -->
        <div class="modal-image-section">
          <div class="image-wrapper">
            <img [src]="selectedProduct?.imagen" [alt]="selectedProduct?.nombre">
          </div>
        </div>

        <!-- Lado Derecho: Información -->
        <div class="modal-info-section">
          
          <h2 class="product-title">{{ selectedProduct?.nombre }}</h2>
          
          <div class="product-description">
            <p>{{ selectedProduct?.descripcion }}</p>
          </div>

          <!-- Características del producto -->
          <div class="product-features">
            <div class="feature-item">
              <ion-icon name="ribbon-outline"></ion-icon>
              <span><strong>Marca:</strong> {{ selectedProduct?.marca }}</span>
            </div>
            <div class="feature-item">
              <ion-icon name="cube-outline"></ion-icon>
              <span><strong>Piezas:</strong> {{ selectedProduct?.piezas }}</span>
            </div>
          </div>

          <div class="product-price-section">
            <div class="price-label">Precio</div>
            <div class="price-amount">{{ selectedProduct?.precio }}</div>
          </div>

          <button class="add-to-cart-btn" (click)="addToCart()">
            <ion-icon name="cart-outline" slot="start"></ion-icon>
            <span>Añadir al Carrito</span>
          </button>

          <div class="modal-footer-note">
            <ion-icon name="shield-checkmark-outline"></ion-icon>
            <span>Compra segura garantizada</span>
          </div>
        </div>

      </div>
    </div>
  </div>

<app-footer></app-footer>
</ion-content>