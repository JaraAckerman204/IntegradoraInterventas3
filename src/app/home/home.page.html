<app-header></app-header>

<ion-content [fullscreen]="true">

  <!-- HERO CAROUSEL -->
  <section class="hero-section">
    <div class="carousel-container">
      <div class="carousel-slide" [class.active]="currentSlide === 0">
        <img src="../../assets/img/flyers/flyer1.png" alt="Slide 1">
      </div>
      <div class="carousel-slide" [class.active]="currentSlide === 1">
        <img src="../../assets/img/flyers/flyer2.png" alt="Slide 2">
      </div>
      <div class="carousel-slide" [class.active]="currentSlide === 2">
        <img src="../../assets/img/flyers/flyer3.png" alt="Slide 3">
      </div>
    </div>

    <div class="carousel-controls">
      <button class="carousel-btn prev" (click)="previousSlide()">
        <ion-icon name="chevron-back-outline"></ion-icon>
      </button>
      <button class="carousel-btn next" (click)="nextSlide()">
        <ion-icon name="chevron-forward-outline"></ion-icon>
      </button>
    </div>
  </section>

  <!-- PRODUCTOS DESTACADOS -->
  <section class="products-section">
    <h2>Productos Destacados</h2>
    <p class="sub-header">Nuestra selección más vendida de desechables y empaques de alta calidad.</p>

    <div class="product-grid">
      
      <ion-card class="product-card" (click)="openProductModal(productosDestacados[0])">
        <ion-img src="../../assets/img/products/charolagrande.png" alt="Charola para alimentos"></ion-img>
        <ion-card-header>
          <ion-card-title>Charola Grande C-10</ion-card-title>
        </ion-card-header>
        <ion-card-content>
          <p>Ideal para pastelerías, carnicerías y catering.</p>
          <div class="price">$37.00</div>
          <ion-button fill="clear" color="dark" size="small">Ver detalles</ion-button>
        </ion-card-content>
      </ion-card>

      <ion-card class="product-card" (click)="openProductModal(productosDestacados[1])">
        <ion-img src="../../assets/img/products/vasotermico.png" alt="Vaso desechable"></ion-img>
        <ion-card-header>
          <ion-card-title>Vaso Térmico No.10</ion-card-title>
        </ion-card-header>
        <ion-card-content>
          <p>Excelente aislamiento para bebidas frías y calientes.</p>
          <div class="price">$26.00</div>
          <ion-button fill="clear" color="dark" size="small">Ver detalles</ion-button>
        </ion-card-content>
      </ion-card>
      
      <ion-card class="product-card" (click)="openProductModal(productosDestacados[2])">
        <ion-img src="../../assets/img/products/cucharamediana.png" alt="Cuchara de plástico"></ion-img>
        <ion-card-header>
          <ion-card-title>Cuchara Plástica Mediana</ion-card-title>
        </ion-card-header>
        <ion-card-content>
          <p>Opción económica y resistente para eventos.</p>
          <div class="price">$14.00</div>
          <ion-button fill="clear" color="dark" size="small">Ver detalles</ion-button>
        </ion-card-content>
      </ion-card>

      <ion-card class="product-card" (click)="openProductModal(productosDestacados[3])">
        <ion-img src="../../assets/img/products/platobiodegradable.png" alt="Plato biodegradable"></ion-img>
        <ion-card-header>
          <ion-card-title>Plato Biodegradable 9"</ion-card-title>
        </ion-card-header>
        <ion-card-content>
          <p>Amigable con el ambiente, resistente y elegante.</p>
          <div class="price">$52.00</div>
          <ion-button fill="clear" color="dark" size="small">Ver detalles</ion-button>
        </ion-card-content>
      </ion-card>
      
    </div>
  </section>

  <!-- MARCAS DESTACADAS -->
  <section class="brands-section">
    <h2>Marcas de Confianza</h2>
    <p class="sub-header">Trabajamos con las marcas líderes en calidad e innovación.</p>
    
    <div class="brands-grid">
      <div class="brand-item">
        <img src="assets/img/brands/reyma.jpeg" alt="Reymaq">
      </div>
      <div class="brand-item">
        <img src="assets/img/brands/chiligrin.png" alt="Chiligrin">
      </div>
      <div class="brand-item">
        <img src="assets/img/brands/anguiplast.jpeg" alt="Anguiplast">
      </div>
      <div class="brand-item">
        <img src="assets/img/brands/dart.png" alt="Dart">
      </div>
      <div class="brand-item">
        <img src="assets/img/brands/monarch.jpeg" alt="Monarch">
      </div>
    </div>
  </section>

  <!-- CATÁLOGO -->
  <section class="stats-section">
    <h2>Explora Nuestro Catálogo</h2>
    <p class="sub-header">Descubre nuestra amplia variedad de productos para tu negocio.</p>
    
    <div class="stats-grid">
      
      <ion-card class="stat-card" routerLink="/productos/empaques">
        <ion-card-header>
          <ion-card-title>Empaques</ion-card-title>
        </ion-card-header>
        <ion-card-content>
          Variedad de soluciones de empaque
        </ion-card-content>
      </ion-card>
      
      <ion-card class="stat-card" routerLink="/productos/desechables">
        <ion-card-header>
          <ion-card-title>Desechables</ion-card-title>
        </ion-card-header>
        <ion-card-content>
          Vasos, platos, cubiertos y más
        </ion-card-content>
      </ion-card>
      
      <ion-card class="stat-card" routerLink="/productos/biodegradables">
        <ion-card-header>
          <ion-card-title>Biodegradables</ion-card-title>
        </ion-card-header>
        <ion-card-content>
          Opciones sustentables
        </ion-card-content>
      </ion-card>
      
    </div>
  </section>

  <!-- NEWSLETTER -->
  <section class="newsletter-section">
    <div class="newsletter-container">
      
      <h2>Mantente Informado</h2>
      <p class="newsletter-description">
        Recibe ofertas exclusivas y novedades directamente en tu correo.
      </p>
      
      <form class="newsletter-form" (submit)="subscribeNewsletter($event)">
        <div class="form-row">
          <div class="form-group">
            <input 
              type="text" 
              placeholder="Nombre" 
              [(ngModel)]="subscriberName"
              name="subscriberName"
              class="newsletter-input"
              required
            >
          </div>
          
          <div class="form-group">
            <input 
              type="email" 
              placeholder="Correo electrónico" 
              [(ngModel)]="subscriberEmail"
              name="subscriberEmail"
              class="newsletter-input"
              required
            >
          </div>
          
          <button type="submit" class="subscribe-btn" [disabled]="isSubscribing">
            <span *ngIf="!isSubscribing">
              Suscribirme
            </span>
            <span *ngIf="isSubscribing">
              <ion-spinner name="crescent"></ion-spinner>
            </span>
          </button>
        </div>
      </form>
      
      <div class="newsletter-benefits">
        <div class="benefit-item">
          <ion-icon name="checkmark-circle-outline"></ion-icon>
          <span>Descuentos exclusivos</span>
        </div>
        <div class="benefit-item">
          <ion-icon name="checkmark-circle-outline"></ion-icon>
          <span>Promociones especiales</span>
        </div>
        <div class="benefit-item">
          <ion-icon name="checkmark-circle-outline"></ion-icon>
          <span>Novedades de productos</span>
        </div>
      </div>
      
      <p class="privacy-note">
        <ion-icon name="shield-checkmark-outline"></ion-icon>
        Tu información está protegida
      </p>
      
    </div>
  </section>

  <!-- MODAL DE PRODUCTO -->
  <div class="product-modal-overlay" *ngIf="showProductModal" (click)="closeProductModal()" [@fadeIn]>
    <div class="product-modal" (click)="$event.stopPropagation()">
      
      <button class="modal-close-btn" (click)="closeProductModal()">
        <ion-icon name="close-outline"></ion-icon>
      </button>

      <div class="modal-content">
        
        <div class="modal-image-section">
          <div class="image-wrapper">
            <img [src]="selectedProduct?.imagen" [alt]="selectedProduct?.nombre">
          </div>
        </div>

        <div class="modal-info-section">
          
          <h2 class="product-title">{{ selectedProduct?.nombre }}</h2>
          
          <div class="product-description">
            <p>{{ selectedProduct?.descripcion }}</p>
          </div>

          <div class="product-features">
            <div class="feature-item">
              <ion-icon name="ribbon-outline"></ion-icon>
              <span><strong>Marca:</strong> {{ selectedProduct?.marca }}</span>
            </div>
            <div class="feature-item">
              <ion-icon name="cube-outline"></ion-icon>
              <span><strong>Piezas:</strong> {{ selectedProduct?.piezas }}</span>
            </div>
          </div>

          <div class="product-price-section">
            <div class="price-label">Precio</div>
            <div class="price-amount">{{ selectedProduct?.precio }}</div>
          </div>

          <button class="add-to-cart-btn" (click)="addToCart()">
            <ion-icon name="cart-outline"></ion-icon>
            <span>Añadir al Carrito</span>
          </button>

          <div class="modal-footer-note">
            <ion-icon name="shield-checkmark-outline"></ion-icon>
            <span>Compra segura garantizada</span>
          </div>
        </div>

      </div>
    </div>
  </div>

<app-footer></app-footer>
</ion-content>