<app-header></app-header>

<!-- Preloader con Logo Animado -->
<div class="preloader" *ngIf="showPreloader">
  <svg class="logo-svg" version="1.0" xmlns="http://www.w3.org/2000/svg"
   width="524.000000pt" height="119.000000pt" viewBox="0 0 524.000000 119.000000"
   preserveAspectRatio="xMidYMid meet">
  
  <g transform="translate(0.000000,119.000000) scale(0.100000,-0.100000)"
  stroke="none">
  <path id="circulo-1" fill="#19226d" d="M559 1090 c-162 -28 -218 -239 -93 -350 83 -72 206 -62 282 24 124
  141 -2 358 -189 326z"/>
  <path id="punto-i" fill="#19226d" d="M1500 844 c-22 -26 -1 -69 34 -69 36 0 58 30 45 63 -10 26 -59 31
  -79 6z"/>
  <path id="letra-t-1" fill="#19226d" d="M2107 733 c-4 -3 -7 -26 -7 -49 0 -37 -3 -43 -22 -46 -18 -2 -23 -10
  -23 -33 0 -23 5 -31 23 -33 21 -3 22 -8 22 -96 0 -113 11 -150 51 -166 24 -10
  40 -10 82 1 55 15 67 32 44 63 -12 16 -19 17 -43 9 -50 -17 -54 -10 -54 92 l0
  94 48 3 c45 3 47 4 47 33 0 29 -2 30 -47 33 l-48 3 0 50 c0 49 0 49 -33 49
  -19 0 -37 -3 -40 -7z"/>
  <path id="letra-t-2" fill="#19226d" d="M4117 733 c-4 -3 -7 -26 -7 -50 0 -36 -3 -43 -20 -43 -11 0 -20 -4
  -21 -10 -5 -46 -2 -55 19 -58 21 -3 22 -8 23 -95 1 -113 7 -135 42 -161 26
  -19 30 -19 85 -6 60 16 73 32 50 63 -11 14 -19 15 -44 8 -47 -13 -54 1 -54
  101 l0 88 51 0 50 0 -3 33 c-3 31 -5 32 -50 35 l-48 3 0 50 c0 49 0 49 -33 49
  -19 0 -37 -3 -40 -7z"/>
  <path id="circulo-r" fill="#19226d" d="M4975 715 c-50 -49 -15 -135 55 -135 41 0 80 39 80 80 0 41 -39 80
  -80 80 -19 0 -40 -9 -55 -25z m102 -7 c31 -29 30 -71 -3 -97 -15 -12 -36 -21
  -47 -21 -31 0 -67 39 -67 72 0 60 71 89 117 46z"/>
  <path id="marca-r" fill="#19226d" d="M5013 703 c-15 -5 -18 -83 -3 -83 6 0 10 7 10 15 0 8 5 15 10 15 6 0
  10 -7 10 -15 0 -8 4 -15 9 -15 5 0 9 18 9 39 1 39 -15 54 -45 44z m27 -23 c0
  -5 -4 -10 -10 -10 -5 0 -10 5 -10 10 0 6 5 10 10 10 6 0 10 -4 10 -10z"/>
  <path id="curva-principal" fill="#ed1370" d="M969 706 c-33 -11 -94 -51 -223 -142 -94 -66 -209 -80 -308 -36 -60
  26 -115 76 -128 117 -13 40 -20 42 -43 17 -50 -55 -62 -176 -27 -278 62 -182
  210 -285 430 -300 165 -12 314 41 426 151 87 85 128 172 129 270 0 95 -32 152
  -107 189 -57 29 -95 32 -149 12z"/>
  <path id="letra-i" fill="#19226d" d="M1505 628 c-3 -8 -4 -81 -3 -163 l3 -150 35 0 35 0 0 160 0 160 -33
  3 c-20 2 -34 -2 -37 -10z"/>
  <path id="letra-n-1" fill="#19226d" d="M1687 633 c-4 -3 -7 -78 -7 -165 l0 -158 35 0 35 0 0 109 c0 106 1
  110 26 130 33 26 96 28 115 5 9 -11 16 -55 19 -128 l5 -111 35 0 35 0 3 85 c5
  126 -4 168 -43 207 -29 29 -39 33 -86 33 -36 0 -65 -7 -86 -20 -32 -19 -33
  -19 -43 0 -11 20 -31 26 -43 13z"/>
  <path id="letra-e-1" fill="#19226d" d="M2413 620 c-89 -54 -105 -182 -32 -265 50 -56 135 -68 211 -29 31 16
  34 30 13 58 -14 18 -16 18 -51 1 -46 -22 -96 -13 -124 22 -38 49 -31 53 94 53
  124 0 133 4 120 58 -12 48 -34 82 -67 102 -43 26 -121 26 -164 0z m136 -66
  c12 -15 21 -31 21 -35 0 -5 -36 -9 -80 -9 -81 0 -81 0 -69 23 29 54 94 65 128
  21z"/>
  <path id="letra-r" fill="#19226d" d="M2727 633 c-4 -3 -7 -78 -7 -165 l0 -158 35 0 35 0 0 110 c0 99 2
  111 22 130 15 14 35 20 65 20 37 0 43 3 49 24 3 14 3 30 -1 35 -11 19 -90 13
  -118 -9 l-26 -21 -11 21 c-11 20 -31 26 -43 13z"/>
  <path id="letra-v" fill="#19226d" d="M2956 631 c-8 -12 139 -324 153 -329 12 -4 161 298 161 325 0 19 -60
  14 -72 -7 -4 -8 -26 -53 -47 -100 l-40 -85 -19 45 c-70 162 -69 160 -101 160
  -16 0 -32 -4 -35 -9z"/>
  <path id="letra-e-2" fill="#19226d" d="M3383 620 c-89 -54 -105 -182 -32 -265 50 -56 135 -68 211 -29 31 16
  34 30 13 58 -14 18 -16 18 -51 1 -46 -22 -96 -13 -124 22 -38 48 -30 52 98 55
  l117 3 -2 37 c-5 85 -62 138 -148 138 -32 0 -62 -7 -82 -20z m136 -66 c12 -15
  21 -31 21 -35 0 -5 -36 -9 -80 -9 -81 0 -81 0 -69 23 29 54 94 65 128 21z"/>
  <path id="letra-n-2" fill="#19226d" d="M3697 633 c-4 -3 -7 -78 -7 -165 l0 -158 35 0 35 0 0 105 c0 99 2
  107 25 130 17 18 35 25 63 25 62 0 71 -18 74 -145 l3 -110 35 0 35 0 3 100 c4
  118 -8 164 -49 199 -39 33 -117 36 -166 6 -32 -19 -33 -19 -43 0 -11 20 -31
  26 -43 13z"/>
  <path id="letra-a" fill="#19226d" d="M4405 633 c-31 -8 -37 -18 -26 -45 9 -24 13 -26 48 -17 75 17 113 3
  113 -43 0 -17 -5 -19 -37 -14 -47 8 -99 -6 -130 -36 -18 -16 -23 -32 -23 -68
  0 -55 19 -85 64 -100 38 -12 109 1 122 22 5 7 11 5 20 -6 7 -10 21 -16 31 -14
  16 3 18 16 18 142 l0 138 -28 24 c-24 20 -38 24 -90 23 -34 -1 -71 -3 -82 -6z
  m109 -173 c52 -19 12 -100 -49 -100 -50 0 -62 74 -15 97 30 15 32 15 64 3z"/>
  <path id="letra-s" fill="#19226d" d="M4715 615 c-18 -17 -25 -35 -25 -63 0 -45 23 -71 98 -112 32 -17 47
  -32 47 -45 0 -17 -6 -20 -40 -19 -22 0 -52 4 -67 8 -24 7 -28 5 -34 -19 -8
  -31 1 -40 60 -56 108 -30 205 60 150 139 -8 12 -42 36 -75 53 -62 31 -80 52
  -60 72 8 8 23 8 58 -1 42 -12 49 -11 60 4 7 10 13 23 13 29 0 19 -48 35 -106
  35 -45 0 -59 -4 -79 -25z"/>
  </g>
  </svg>
</div>

<ion-content [fullscreen]="true">
  
  <!-- Hero Section con tÃ­tulo difuminado -->
  <section class="login-hero-section">
    <div class="login-hero-overlay"></div>
    <div class="login-hero-content">
      <h1 class="blurred-title">Para poder acceder a nuestro catÃ¡logo</h1>
      <h2 class="main-title">Inicia SesiÃ³n</h2>
    </div>
  </section>

  <!-- Formulario de Login -->
  <section class="login-form-section">
    <ion-card class="login-card">
      <ion-card-header>
        <ion-card-title>Bienvenido de nuevo</ion-card-title>
        <p class="subtitle">Ingresa tus credenciales para continuar</p>
      </ion-card-header>

      <ion-card-content>
        <!-- ðŸ“§ Campo de email -->
        <div class="input-group">
          <ion-input
            label="Correo electrÃ³nico"
            labelPlacement="floating"
            [(ngModel)]="email"
            type="email"
            placeholder="correo@ejemplo.com"
            class="custom-input">
          </ion-input>
        </div>

        <!-- ðŸ” Campo de contraseÃ±a con ojito -->
        <div class="input-group password-input-wrapper">
          <ion-input
            label="ContraseÃ±a"
            labelPlacement="floating"
            [(ngModel)]="password"
            [type]="showPassword ? 'text' : 'password'"
            placeholder="Tu contraseÃ±a"
            class="custom-input">
          </ion-input>
          <button 
            type="button" 
            class="toggle-password-btn" 
            (click)="togglePasswordVisibility()"
            [attr.aria-label]="showPassword ? 'Ocultar contraseÃ±a' : 'Mostrar contraseÃ±a'">
            <ion-icon [name]="showPassword ? 'eye-off-outline' : 'eye-outline'"></ion-icon>
          </button>
        </div>

        <ion-button 
          expand="block" 
          class="login-btn" 
          (click)="login()"
          [disabled]="loading">
          <span *ngIf="!loading">Iniciar SesiÃ³n</span>
          <ion-spinner *ngIf="loading" name="crescent"></ion-spinner>
        </ion-button>

        <div class="forgot-password">
          <ion-button fill="clear" (click)="recoverPassword()">
            Â¿Olvidaste tu contraseÃ±a?
          </ion-button>
        </div>

        <!-- âŒ ELIMINADO: Mensaje de error estÃ¡tico -->
        <!-- Ahora se usa ToastService para mostrar errores -->

        <div class="register-link">
          <p>Â¿No tienes cuenta?</p>
          <ion-button fill="clear" class="register-btn" (click)="goToRegister()">
            Crear cuenta nueva
          </ion-button>
        </div>
      </ion-card-content>
    </ion-card>
  </section>

<app-footer></app-footer>
</ion-content> 